<!DOCTYPE html>

<html lang="english">
<head>
    <title>TeraElinu</title>
    <meta content="MainPage" property="og:title" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta charset="utf-8" />
    <meta content="summary_large_image" property="twitter:card" />
    <link data-tag="font" href="https://fonts.googleapis.com/css2?family=Raleway:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet" />
    <link data-tag="font" href="https://fonts.googleapis.com/css2?family=Inter:wght@100;200;300;400;500;600;700;800;900&display=swap" rel="stylesheet" />
    <script src="https://cdn.jsdelivr.net/npm/animejs@3.0.1/lib/anime.min.js"></script>
    <link rel="stylesheet" href="../node_modules/xterm/css/xterm.css" />
    <script src="../node_modules/xterm/lib/xterm.js"></script>
    <link href="./css/style.css" rel="stylesheet" />
    <link rel="stylesheet" href="css/tooltipster.bundle.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/modaal@0.4.4/dist/css/modaal.css">
    <style data-section-id="dropdown">
        [data-thq="thq-dropdown"]:hover > [data-thq="thq-dropdown-list"] {
            display: flex;
        }

        [data-thq="thq-dropdown"]:hover > div [data-thq="thq-dropdown-arrow"] {
            transform: rotate(90deg);
        }
    </style>
    <script>
        const params = new URLSearchParams(window.location.search);
        window.language = params.get('lang');
    </script>
</head>
<body>
<div>
    <div class="main-page-container">
        <div class="main-page-mainpage" id="particles-js">
            <div class="main-page-header">
                <div class="main-page-accountbox">
                    <img alt="Avatar133" class="main-page-avatar" src="images/avatar133-j727-200h.png" />
                    <div class="main-page-accountinfos">
                        <div class="main-page-namebox">
                            <span class="main-page-dsplay-username">
                                <span id="welcome">Bienvenue</span> <span id="user"></span>
                            </span>
                            <div class="main-page-coin-box">
                                <div id="you-have-coin">Vous avez</div>
                                <div class="main-page-dsplay-coin" id="dsplay-coin"  >
                                    <span id="userBalance">0</span>
                                </div>
                                <div><img alt="image" class="main-page-image tooltip" src="images/tera-coin-200h.png" title="TelinGold"/></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="main-page-topleftbtn">
                    <div class="main-page-thq-dropdown" id="switchLang" data-thq="thq-dropdown">
                        <div class="DropdownToggle" data-thq="thq-dropdown-toggle">
                            <div>
                                <img alt="image" class="selectedlangimg" id="selectedLangImg" loading="lazy" src="images/fr.png" width="24" height="24" />
                            </div>
                            <div class="main-page-dropdown-arrow" data-thq="thq-dropdown-arrow">
                                <svg class="main-page-icon" viewBox="0 0 1024 1024">
                                    <path d="M426 726v-428l214 214z"></path>
                                </svg>
                            </div>
                        </div>
                        <ul class="DropdownList" data-thq="thq-dropdown-list">
                            <li class="main-page-dropdown list-item langSelected" data-thq="thq-dropdown" data-elinulang="uk">
                                <div class="DropdownToggleItem" data-thq="thq-dropdown-toggle">
                                    <img alt="image" class="lang_img" data-elinulang="uk" src="images/uk.png" />
                                    <span class="main-page-text02">English</span>
                                </div>
                            </li>
                            <li class="main-page-dropdown1 list-item langSelected" data-thq="thq-dropdown" data-elinulang="fr">
                                <div class="DropdownToggleItem" data-thq="thq-dropdown-toggle">
                                    <img alt="image" class="lang_img" data-elinulang="fr" src="images/fr.png" />
                                    <span class="main-page-text03">French</span>
                                </div>
                            </li>
                            <li class="main-page-dropdown2 list-item langSelected" data-thq="thq-dropdown" data-elinulang="de">
                                <div class="DropdownToggleItem" data-thq="thq-dropdown-toggle">
                                    <img alt="image" class="lang_img" data-elinulang="de" src="images/de.png" />
                                    <span class="main-page-text04">Deutsch</span>
                                </div>
                            </li>
                        </ul>
                    </div>
                    <a class="main-page-navlink tooltip" href="#show_settings" title="Settings" id="settings">
                        <div class="sm-btn-box">
                            <img alt="settings" class="main-page-settings" id="launcher-settings" src="images/Settings.svg" />
                        </div>
                    </a>
                    <a class="main-page-navlink tooltip" href="#" title="Logout" id="logout" onclick="doLogout()">
                        <div class="sm-btn-box">
                            <img alt="Frame1442" class="main-page-logout" id="launcher-logout" src="images/frame1442-asba.svg" />
                        </div>
                    </a>
                    <a class="main-page-navlink" href="#" id="minimizeBtn">
                        <div class="sm-btn-box">
                            <img alt="Frame2443" class="main-page-minimize" id="launcher-minimize" src="images/frame2443-hcr9.svg" />
                        </div>
                    </a>
                    <a class="main-page-navlink" href="#" id="closeBtn">
                        <div class="sm-btn-box">
                            <img alt="Frame3444" class="main-page-close" id="launcher-close" src="images/frame3444-u8gq.svg" />
                        </div>
                    </a>
                </div>
                <div class="main-page-navmenu">
                    <a class="nav-link tooltip" href="#" id="website" title="Go to our website"><span>WEBSITE</span></a>
                    <a class="nav-link tooltip" href="#" id="open-console" title="Game console"><span>CONSOLE</span></a>
                    <a class="nav-link tooltip" href="#" id="donate" title="Support our server"><span>DONATE</span></a>
                    <a class="nav-link tooltip" href="#" id="discord" title="Join our community"><span>DISCORD</span></a>
                    <a class="nav-link tooltip" href="#" id="support" title="If you have an issue" onclick="downloadUpdates()"><span>SUPPORT</span></a>
                </div>
                <div class="main-page-game-message GameMessage" id="gameMsgBox">
                    <span class="gameMsgText">
                        <span id="gameMsg">game message</span>
                    </span>
                </div>
                <div class="main-page-server-stats">
                    <span class="serverStatsText green">
                        <span>Server is Online</span>
                    </span>
                </div>
            </div>
            <div class="main-page-newscont">
                <a class="main-page-navlink4" href="#">
                    <div class="first-news news-box news-link">
                        <span class="main-page-text27"><span>NEWS</span></span>
                        <span class="main-page-text29">
                            <span>
                                Base url for patching. Launcher begins operation with loading
                            </span>
                        </span>
                    </div>
                </a>
                <a class="main-page-navlink5" href="#">
                    <div class="second-news news-box news-link">
                        <span class="main-page-text31"><span>NEWS</span></span>
                        <span class="main-page-text33">
                            <span>
                                Base url for patching. Launcher begins operation with loading
                            </span>
                        </span>
                    </div>
                </a>
                <a class="main-page-navlink6" href="#">
                    <div class="news-box news-link">
                        <span class="main-page-text35"><span>NEWS</span></span>
                        <span class="main-page-text37">
                            <span>
                                Base url for patching. Launcher begins operation with loading
                            </span>
                        </span>
                    </div>
                </a>
            </div>
            <div class="main-page-footer">
                <div class="main-page-launchboox">
                    <a class="main-page-navlink3" href="#" id="play-game" onclick="preLaunchGame()">
                        <div class="main-page-btnplay" id="btn-play">
                            <span class="main-page-text12">
                                <span id="launchGameString">LAUNCH GAME</span>
                            </span>
                        </div>
                    </a>
                    <div class="main-page-client">
                        <span class="main-page-text15">
                            <span>Client Version:</span>
                        </span>
                        <span class="main-page-client-v" id="client-v">
                            <span>V 100.2</span>
                        </span>
                    </div>
                </div>
                <img src="images/Play.svg" alt="Play2144" class="main-page-play"  id="resumeDl" onclick="resumeDownload()" style="display:none;"/>
                <img src="images/Pause.svg" alt="Pause2142" class="main-page-pause" id="pauseDl" onclick="pauseDownload()" style="display:none;"/>
                <div class="main-page-patchbox">
                    <div class="main-page-jauge-box" id="jauge-box">
                        <div class="progressbar" id="progressbar"></div>
                    </div>
                    <div class="no-update" id="no-update"></div>
                    <div class="main-page-textetat">

                        <div class="main-page-client1">
                            <span class="main-page-text18">
                                <span>Downloading <span id="fileName">...</span> </span>
                            </span>
                            <span class="main-page-client-dl" id="client-dl">
                                <span id="currentDl"></span><span id="totalDownloaded"></span>
                            </span>
                        </div>
                        <div class="main-page-speedbox">
                            <span class="main-page-text21"><span>Speed:</span></span>
                            <span class="main-page-dl-speed" id="dl-speed">
                                <span id="downloadSpeed">...</span>
                            </span>
                        </div>
                        <div class="main-page-time">
                            <span class="main-page-text24">
                                <span>ETA:</span>
                            </span>
                            <span class="main-page-dl-time" id="dl-time">
                                <span id="timeRemaining">...</span>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="ring-loading-box">
                <div class="ring" id="ringProgressText">0%
                    <span></span>
                </div>
            </div>            
            <div class="elinu-console-console-modal-overlay" id="elinu-console-console-modal-overlay">
            </div>
            <div class="consoleFrameBox" id="consoleFrameBox">
                <div class="elinu-console-console-frame" id="elinu-console-console-frame">
                    <span class="elinu-console-text" id="terminal"></span>
                </div>
            </div>
        </div>
    </div>
    <div id="show_settings" style="display:none;">
        <div class="overlaycontainer-overlaycontainer">
    <span class="overlaycontainer-overlay-title">
      <span id="gameLocationTitle">GAME LOCATION</span>
    </span>
        <input onclick="getDir()" id="clientFolder" type="text" placeholder="Click and locate your game client folder" class="overlaycontainer-gamelocationinput" webkitdirectory/>
        
        <a href="#" class="overlaycontainer-navlink" onclick="closeModal()">
            <div class="overlaycontainer-btn-save-location">
                <span class="overlaycontainer-text1" id="saveLocation"><span>SAVE LOCATION</span></span>
            </div>
        </a>
        </div>
    </div>    
</div>
<script>

</script>
<script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
<script src="js/tooltipster.bundle.min.js"></script>
<script src="http://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
<script src="./js/particlejs-anim.js" type="text/javascript"></script>
<script src="https://cdn.jsdelivr.net/npm/modaal@0.4.4/dist/js/modaal.min.js"></script>
<!-- SelectableText Plugin-->
<script src="js/tooltipster-selectableText.js"></script>
<script type="text/javascript">
    document.getElementById('selectedLangImg').src = "images/" + window.language + ".png";
</script>
<script>
    function closeModal(){
        $('#settings').modaal('close');
    }
    let clientInputString = document.getElementById('clientFolder');

    ipcRenderer.on("loadConfig", (event, config) => {//load currentConfig
        clientInputString.value = config.gamePath;
    });
    
    async function getDir() {//on click openShowDialog to select a directory
        ipcRenderer.send("select-dirs");
    }
    
    ipcRenderer.on("dirSelected", (event, dirPath) => {//listening the mainApp for selected path
        clientInputString.value = dirPath;
        ipcRenderer.send("saveUserClientLocation", clientInputString.value);
    });
    

    
    $(document).ready(function() {

        $('#settings').modaal({
            before_open: function() {
                //reload config
                ipcRenderer.send("reloadConfig");
                ipcRenderer.on("configReloaded", (event, config) => {//load currentConfig
                    clientInputString.value = config.gamePath;
                });
            }
        })

        $('.tooltip').tooltipster({
            animation: 'grow',
            delay: 100,
            speed: 300,
            interactive: true,
            position: 'bottom',
            theme: ['elinu-tooltip-theme'],
            touchDevices: false,
            trigger: 'hover'
        });
    });
</script>
<script src="js/helpers.js"></script>
<script src="js/console.js"></script>
<script src="mainRenderer.js"></script>
<script src="renderer.js"></script>
<script src="js/mainAnimation.js"></script>
<script>
    //_TEXT_TRANSLATE(document.getElementById("hello"), 'UI_TEXT_MAIN_HELLO')
    _TEXT_TRANSLATE(document.getElementById("gameLocationTitle"), 'UI_TEXT_MAIN_GAME_LOCATION_TITLE');
    _TEXT_TRANSLATE(document.getElementById("saveLocation"), 'UI_TEXT_MAIN_SAVE_LOCATION_BUTTON')
    _TEXT_TRANSLATE(document.getElementById("no-update"), 'UI_TEXT_MAIN_USER_CAN_LAUNCH_GAME');
    
    _TEXT_TRANSLATE(document.getElementById("welcome"), 'UI_TEXT_MAIN_COIN_WELCOME_TEXT');
    _TEXT_TRANSLATE(document.getElementById("you-have-coin"), 'UI_TEXT_MAIN_COIN_AVAILABLE_TEXT');

    _TEXT_TRANSLATE(document.getElementById("website"), 'UI_TEXT_MAIN_WEBSITE_TEXT');
    _TEXT_TRANSLATE(document.getElementById("donate"), 'UI_TEXT_MAIN_DONATE_TEXT');
    _TEXT_TRANSLATE_TITLE(document.getElementById("website"), 'UI_TEXT_MAIN_WEBSITE_TITLE_TEXT');
    _TEXT_TRANSLATE_TITLE(document.getElementById("donate"), 'UI_TEXT_MAIN_DONATE_TITLE_TEXT');
    _TEXT_TRANSLATE_TITLE(document.getElementById("discord"), 'UI_TEXT_MAIN_DISCORD_TITLE_TEXT');
    _TEXT_TRANSLATE_TITLE(document.getElementById("support"), 'UI_TEXT_MAIN_SUPPORT_TITLE_TEXT');
    _TEXT_TRANSLATE_TITLE(document.getElementById("settings"), 'UI_TEXT_MAIN_SETTINGS_TITLE_TEXT');
    _TEXT_TRANSLATE_TITLE(document.getElementById("logout"), 'UI_TEXT_MAIN_LOGOUT_TITLE_TEXT');
</script>
</body>
</html>
